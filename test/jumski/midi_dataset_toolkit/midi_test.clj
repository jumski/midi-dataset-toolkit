(ns jumski.midi-dataset-toolkit.midi-test
  (:require [midje.sweet :refer :all]
            [jumski.midi-dataset-toolkit.midi :as midi]))

(def c_major_scale_data
  (let [lines ["00000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000"
               "00000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000"]]
    (clojure.string/join "\n" lines)))

(def c_major_chord_4th_octave_60_64_67
  "00000000000000000000000000000000000000000000000000000000000010010001000000000000000000000000000000000000000000000000000000000000")


(fact
  "about producting outputs for simple files"
  (midi/midi->steps "resources/c_major_scale.mid") => c_major_scale_data)

(fact
  "about producting outputs for chords"
  (midi/midi->steps "resources/c_major_chord_4th_octave_60_64_67.mid")
  => c_major_chord_4th_octave_60_64_67)
